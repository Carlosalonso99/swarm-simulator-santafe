<!-- Anchor our GPS sensors to a real place: Camp Roberts
     http://www.lat-long.com/Latitude-Longitude-2512404-California-Camp_Roberts.html -->
<spherical_coordinates>
  <latitude_deg><%=$latitude_deg%></latitude_deg>
  <longitude_deg><%=$longitude_deg%></longitude_deg>
  <elevation><%=$elevation%></elevation>
  <heading_deg>0</heading_deg>
</spherical_coordinates>

<scene>
  <shadows>false</shadows>
</scene>

<include>
  <uri>model://sun</uri>
</include>

<physics type="ode">
  <ode>
    <solver>
      <type>world</type>
    </solver>
  </ode>
  <max_step_size>0.01</max_step_size>
  <real_time_update_rate>0</real_time_update_rate>
</physics>

<!-- Load the plugin to deliver all the messages inside the swarm -->
<plugin name="swarm_broker" filename="libSwarmBrokerPlugin.so">
  <comms_model>
    <neighbor_distance_min><%=$neighbor_distance_min%></neighbor_distance_min>
    <neighbor_distance_max><%=$neighbor_distance_max%></neighbor_distance_max>
    <neighbor_distance_penalty_tree><%=$neighbor_distance_penalty_tree%></neighbor_distance_penalty_tree>
    <comms_distance_min><%=$comms_distance_min%></comms_distance_min>
    <comms_distance_max><%=$comms_distance_max%></comms_distance_max>
    <comms_distance_penalty_tree><%=$comms_distance_penalty_tree%></comms_distance_penalty_tree>
    <comms_drop_probability_min><%=$comms_drop_probability_min%></comms_drop_probability_min>
    <comms_drop_probability_max><%=$comms_drop_probability_max%></comms_drop_probability_max>
    <comms_outage_probability><%=$comms_outage_probability%></comms_outage_probability>
    <comms_outage_duration_min><%=$comms_outage_duration_min%></comms_outage_duration_min>
    <comms_outage_duration_max><%=$comms_outage_duration_max%></comms_outage_duration_max>
    <comms_data_rate_max><%=$comms_data_rate_max%></comms_data_rate_max>
  </comms_model>
  <log_info>
    <num_ground_vehicles><%=$ground_count%></num_ground_vehicles>
    <num_fixed_vehicles><%=$fixed_count%></num_fixed_vehicles>
    <num_rotor_vehicles><%=$rotor_count%></num_rotor_vehicles>
    <terrain_name><%=$terrain_file%></terrain_name>
    <vegetation_name><%=$vegetation_file%></vegetation_name>
    <search_area><%=$search_area%></search_area>
  </log_info>
</plugin>
