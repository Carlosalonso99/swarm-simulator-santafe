<?xml version="1.0" ?>
<%camera_near = 0.12%>
<%camera_far = 20%>
<%camera_fov = 1.04719755%>
<%camera_aspect_ratio = 1.778%>
<%lost_person_x = 100%>
<%lost_person_y = 100%>
<%latitude_deg = 35.7753257%>
<%longitude_deg = -120.774063%>
<%elevation = 208%>

<!-- At 35 degrees latitude, 0.01 degrees is ~1km lat/long.
     So +/- 0.01 deg defines a ~2km X ~2km region. -->
<% search_area = '''<swarm_search_area>
           <min_relative_latitude_deg>-0.01</min_relative_latitude_deg>
           <max_relative_latitude_deg>0.01</max_relative_latitude_deg>
           <min_relative_longitude_deg>-0.01</min_relative_longitude_deg>
           <max_relative_longitude_deg>0.01</max_relative_longitude_deg>
         </swarm_search_area>''' %>

<% ground_battery = '''<battery>
  <!-- Capacity in mAh -->
  <capacity>110000</capacity>
  <!-- Consumption in mA -->
  <consumption>55000</consumption>
  <!-- A factor that should be between 0 and 1. A value of < 1 can be used
       to account for capacity loss in addition to the <consumption>. -->
  <consumption_factor>0.7</consumption_factor>
  </battery>'''%>

<sdf version="1.5">
  <world name="default">

    <!-- Common parameters -->
    <%= ERB.new(File.read('common.sdf.erb'),
                nil, nil, "_sub01").result(binding)%>

    <!-- Lost person -->
    <%= ERB.new(File.read('lost_person_simple.sdf.erb'),
                nil, nil, "_sub01").result(binding)%>

    <!-- Base of operations -->
    <%= ERB.new(File.read('boo.sdf.erb'),
                nil, nil, "_sub01").result(binding)%>

    <!-- The terrain -->
    <%= ERB.new(File.read('terrain_model_1.sdf.erb'),
                nil, nil, "_sub01").result(binding)%>

    <!-- Create the ground vehicles -->
    <% for index in 0..3 %>
      <%name = "ground_#{index}" %>
      <%x_pos = 0%>
      <%y_pos = index * 6%>
      <%yaw = index*1.57%>
      <%ip = "192.168.2.#{index+1}"%>
      <%= ERB.new(File.read('ground_vehicle.sdf.erb'),
                  nil, nil, "_sub01").result(binding)%>
    <% end %>

  </world>
</sdf>
